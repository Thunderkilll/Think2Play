
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Color mania"/>

    <title>Color Mania lvl 10</title>

<link rel="stylesheet" href="../css/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    
</head>

<body>

  <div data-role="page" id="level10">
  	<header>
			<h1>
				<img id ="back_icon" src="../images/UI/back.png" width="32"  onclick="goBack()"/>   
				<img id ="help_icon" src="../images/UI/help1.png" width="32" /> 
				<img id ="exit1_icon" src="../images/UI/exit1.png" width="32" onclick="exitToMenu()"/>   
				<img id ="music_icon" src="../images/UI/music.png" width="32" /> 
				<div class="timer"> </div> <div class="conteur"> </div>   
			</h1>
		</header>
    
	
  <div class="product-preview">
				<div class="product">
					
					<img id="mask" src="../images/ebay/ebay.png" align="middle" alt="Image" >
				</div>
		
				
				<h4>Choose a Color:</h4>
				<div class="swatch">
					<!--  half  1 -->
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(11,171,124);"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(229,151,3);"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: Orange;"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(63,72,204);"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(181,230,29);"></a>
					<!--  half  2 -->
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(246,217,45);"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: Purple;"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(237,28,36);"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(255,201,14);"></a>
					<a href="#mask" data-role="button" onclick="changeImage(this)" style="background: rgb(0, 102, 255);"></a>
	 
				</div>
			</div>
 

  <footer>
  <p>&copy; Khaled Guesmi & Slim Ahan Touati. All rights reserved.</p>
  </footer>   </div> 
  
  <div id="myDialog" data-role="dialog" style="top:0px;left:0px" class="ui-dialog-contain ui-corner-all ui-overlay-shadow">
	
		<div data-role="header" data-theme="a" class="ui-corner-top ui-header ui-bar-a" role="banner">
		
			<h1 class="ui-title" role="heading" aria-level="1">AWESOME! <br> COMPLETE!!</h1>

		</div>

		<div data-role="content" data-theme="b" class="ui-corner-bottom ui-content ui-body-b" role="main">
			
			 <img src="../images/ebay/ebay4.png" style=" display: block;margin-left: auto;margin-right: auto" /> 
			 <br> <p style="margin-left: 45%;"> EBAY</p> <br>
			
		 	<img src="../images/UI/next1.png" id="next" style="display: block;margin-left: auto;margin-right: auto; width: 45px; height: 45px"/>
	 		
		</div>
	</div>
   	<!-- Game over screen -->
   	 <div id="timeOut" data-role="dialog" style="top:0px;left:0px" class="ui-dialog-contain ui-corner-all ui-overlay-shadow ">
	
		<div data-role="header" data-theme="d" class="ui-corner-top ui-header ui-bar-a" role="banner">
		
			<h1 class="ui-title" role="heading" aria-level="1">GAME OVER !!</h1>

		</div>

		<div data-role="content" data-theme="c" class="ui-corner-bottom ui-content ui-body-b" role="main">
			
			 <img src="../images/menu/gameover.png" style="display: block; margin-left: auto;margin-right: auto; width: 325px; height: 200px;" /> <br>
			 
			<br>
			 <img src="../images/UI/exit1.png" id="next" style="margin-right: auto; width: 45px; height: 45px"/>
		 	<img src="../images/UI/lederboard.png" id="next" style=" margin-right: auto; width: 45px; height: 45px"/>
		 	<img src="../images/UI/help1.png" id="next" style="  margin-right: auto; width: 45px; height: 45px"/>
		</div>
	</div>

<script src="../js/jquery-1.11.3.min.js"></script>
<script src="../js/jquery.mobile-1.4.5.min.js"><</script>
<script src="../js/main.js"></script>

     <script>
     window.addEventListener('tizenhwkey', function(e) {
         if (e.keyName == "back") {
        	  window.location.href="homepage.html";
         }
     });
     $(document).ready(function(){
   		$('#next').click(function(){
   			 window.location.href="level11.html"
   		});});
     </script>
  <script type="text/javascript">
      function goBack() {
	     
              setTimeout(function() {  window.location.href="level8.html"; }, 0);
         }
     function exitToMenu(){
                   setTimeout(function() {  window.location.href="../PicGame.html"; }, 0);
     }
	    </script>

<script type="text/javascript">
	//*******************TIMER *******************************
	var second = 10, minute = 0; hour = 0;
    var timer = document.querySelector(".timer");
    var interval;
	timer.innerHTML = "0:mins/10:secs";
    interval = setInterval(function(){
            	
                if(minute == 0 && second ==0){
                     console.log("time ends ");
                      $.mobile.changePage("#timeOut");   	 
                     
                }else{
                	second--;
                timer.innerHTML = minute+":mins/"+second+":secs";
                
                if(second == 0){
                    minute--;
                    second=60; //**
                }
                if (minute == 0 && second > 0) {
                	console.log(" under 1 min left !!");
                	timer.style.color = "red";
                }
                 if(minute == -1 ){
                     console.log("time ends ");
                      $.mobile.changePage("#timeOut");   	 
                     
                }

                }
            },1000);

</script>

<script>

 /** partie conteur **/
    var counteur = 0 ;
    var conteur = document.querySelector(".conteur");
    conteur.innerHTML = "Tries = 4";
/** partie timer   **/

    var second = 10, minute = 0; hour = 0;
    var timer = document.querySelector(".timer");
    var interval;
/** partie color detection  **/	
			var flag1="";
			var flag2="";
			var flag3="";
			var flag4="";

function changeImage(el) {
	if (counteur < 4) {}else{ }
console.log(jQuery(el).css('background-color'));
	if( jQuery(el).css('background-color') == "rgb(237, 28, 36)" )
		{
		//console.log("1: " + jQuery(el).css('background-color'));
		flag1="rgb(237, 28, 36)";
		if (flag2!="" && flag3!="" && flag4!=""){
			 $('#mask').attr("src", "../images/ebay/ebay4.png");
			 $.mobile.changePage("#myDialog");}
		else if(flag2!="" && flag3!="" && flag4 == ""  )
			$('#mask').attr("src", "../images/ebay/ebay3.png");
		else if(flag2=="" && flag3!="" && flag4!="")
			$('#mask').attr("src", "../images/ebay/ebay15.png");
		else if(flag2!="" && flag3 =="" && flag4!="")
			$('#mask').attr("src", "../images/ebay/ebay14.png");
		else if(flag2!="" && flag3 =="" && flag4=="")
			$('#mask').attr("src", "../images/ebay/ebay2.png");
		else if(flag2 =="" && flag3 !="" && flag4=="")
			$('#mask').attr("src", "../images/ebay/ebay6.png");
		else if(flag2 =="" && flag3 =="" && flag4 !="")
			$('#mask').attr("src", "../images/ebay/ebay7.png");
		else{
	   	$('#mask').attr("src", "../images/ebay/ebay1.png");
	     jQuery(el).remove();}
				}
	else if( jQuery(el).css('background-color') == "rgb(63, 72, 204)" )
		{
		//console.log("1: " + jQuery(el).css('background-color'));
		flag2="rgb(63, 72, 204)";
		if (flag1!="" && flag3!="" && flag4!=""){
			 $('#mask').attr("src", "../images/ebay/ebay4.png");
			 $.mobile.changePage("#myDialog");}
		else if(flag1!="" && flag3!="" && flag4 == ""  )
			$('#mask').attr("src", "../images/ebay/ebay3.png");
		else if(flag1=="" && flag3!="" && flag4!="")
			$('#mask').attr("src", "../images/ebay/ebay10.png");
		else if(flag1!="" && flag3 =="" && flag4!="")
			$('#mask').attr("src", "../images/ebay/ebay14.png");
		else if(flag1!="" && flag3 =="" && flag4=="")
			$('#mask').attr("src", "../images/ebay/ebay2.png");
		else if(flag1 =="" && flag3 !="" && flag4=="")
			$('#mask').attr("src", "../images/ebay/ebay8.png");
		else if(flag1 =="" && flag3 =="" && flag4 !="")
			$('#mask').attr("src", "../images/ebay/ebay9.png");
		else{$('#mask').attr("src", "../images/ebay/ebay5.png");
	  jQuery(el).remove();
    }
	   	
				}
	else if( jQuery(el).css('background-color') == "rgb(255, 201, 14)"  )
		
    {
	//console.log("2: " + jQuery(el).css('background-color'));
	 flag3= "rgb(255, 201, 14)";
	 if (flag1!="" && flag2!="" && flag4!=""){
		 $('#mask').attr("src", "../images/ebay/ebay4.png");
		 $.mobile.changePage("#myDialog");}
	else if(flag1!="" && flag2!="" && flag4 == ""  )
		$('#mask').attr("src", "../images/ebay/ebay3.png");
	else if(flag1=="" && flag2!="" && flag4!="")
		$('#mask').attr("src", "../images/ebay/ebay10.png");
	else if(flag1!="" && flag2 =="" && flag4!="")
		$('#mask').attr("src", "../images/ebay/ebay15.png");
	else if(flag1!="" && flag2 =="" && flag4=="")
		$('#mask').attr("src", "../images/ebay/ebay6.png");
	else if(flag1 =="" && flag2 !="" && flag4=="")
		$('#mask').attr("src", "../images/ebay/ebay8.png");
	else if(flag1 =="" && flag2 =="" && flag4 !="")
		$('#mask').attr("src", "../images/ebay/ebay11.png");
	else
   	{$('#mask').attr("src", "../images/ebay/ebay12.png");
   jQuery(el).remove();
    }
			
			}

else if( jQuery(el).css('background-color') == "rgb(181, 230, 29)"  )
		
    {
	//console.log("2: " + jQuery(el).css('background-color'));
	 flag4= "rgb(181, 230, 29)";
	 if (flag1!="" && flag2!="" && flag3!=""){
		 $('#mask').attr("src", "../images/ebay/ebay4.png");
		 $.mobile.changePage("#myDialog");}
	else if(flag1!="" && flag2!="" && flag3 == ""  )
		$('#mask').attr("src", "../images/ebay/ebay14.png");
	else if(flag1=="" && flag2!="" && flag3!="")
		$('#mask').attr("src", "../images/ebay/ebay10.png");
	else if(flag1!="" && flag2 =="" && flag3!="")
		$('#mask').attr("src", "../images/ebay/ebay15.png");
	else if(flag1!="" && flag2 =="" && flag3=="")
		$('#mask').attr("src", "../images/ebay/ebay7.png");
	else if(flag1 =="" && flag2 !="" && flag3=="")
		$('#mask').attr("src", "../images/ebay/ebay9.png");
	else if(flag1 =="" && flag2 =="" && flag3 !="")
		$('#mask').attr("src", "../images/ebay/ebay11.png");
	else{
   	$('#mask').attr("src", "../images/ebay/ebay13.png");
     jQuery(el).remove();
    
}
			}
	else
	 {
	 counteur ++ ;
	 conteur.innerHTML = "Tries = "+(4- counteur);
     jQuery(el).remove();
 
	 }
	 	 
      }
      
function nextLevel()
{
	 window.location.href="level11.html";
	}

			</script>

</body>
</html>
